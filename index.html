<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>linus — Orbital Hybridization Explorer</title>

  <!-- KaTeX -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Three.js via importmap -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/"
    }
  }
  </script>
</head>
<body>

<div class="app">

  <!-- ── Top bar ────────────────────────────────────── -->
  <header class="top-bar">
    <div class="app-title">linus</div>
    <div class="app-subtitle">Orbital Hybridization Explorer</div>
  </header>

  <!-- ── Three-panel layout ─────────────────────────── -->
  <div class="main-panels">

    <!-- LEFT: Equations + Mixing zone + AO cards + s-character -->
    <div class="left-panel">
      <div id="equation-panel"></div>
      <div id="schar-panel"></div>
    </div>

    <!-- RIGHT: 3D Orbital viewer -->
    <div class="right-panel">
      <div id="viewer3d"></div>
      <div id="status"></div>

      <!-- Viewer controls overlay -->
      <div class="viewer-controls">
        <button id="btn-show-all" class="vctrl-btn" title="Toggle all hybrids">Show all</button>
        <button id="btn-axes" class="vctrl-btn active" title="Toggle coordinate axes">Axes</button>
        <button id="btn-angles" class="vctrl-btn" title="Toggle angle measurements">Angles</button>
        <button id="btn-reset-cam" class="vctrl-btn" title="Reset camera">Reset</button>
      </div>
      <div class="viewer-views">
        <button class="view-btn" data-view="front" title="Front (xy plane)">Front</button>
        <button class="view-btn" data-view="back" title="Back">Back</button>
        <button class="view-btn" data-view="top" title="Top (xz plane)">Top</button>
        <button class="view-btn" data-view="bottom" title="Bottom">Bottom</button>
        <button class="view-btn" data-view="right" title="Right (yz plane)">Right</button>
        <button class="view-btn" data-view="left" title="Left">Left</button>
      </div>

      <div class="viewer-iso">
        <span>Isosurface</span>
        <input type="range" id="iso-slider" min="0.005" max="0.08" step="0.001" value="0.08">
        <span id="iso-value">0.080</span>
      </div>

      <div class="viewer-legend">
        <div class="legend-item"><div class="legend-swatch pos"></div><span>+ phase</span></div>
        <div class="legend-item"><div class="legend-swatch neg"></div><span>− phase</span></div>
      </div>
    </div>

  </div>

  <!-- ── Bottom bar ─────────────────────────────────── -->
  <div class="bottom-bar">
    <div class="bar-section">
      <span class="bar-label">Atom</span>
      <div id="atom-buttons"></div>
      <div id="atom-info"></div>
    </div>

    <div class="bar-divider"></div>

    <div class="bar-section">
      <span class="bar-label">Hybridization</span>
      <div id="hybrid-buttons"></div>
    </div>

    <div class="bar-divider"></div>

    <div class="bar-section geom-section">
      <div id="geometry-info"></div>
    </div>
  </div>

  <!-- Atom notes (below bottom bar, collapsible) -->
  <div id="atom-notes" class="atom-notes" hidden></div>

</div>

<script type="module" src="app.js"></script>

</body>
</html>
